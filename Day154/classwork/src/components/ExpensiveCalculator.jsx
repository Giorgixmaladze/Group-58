// ðŸ§  áƒ“áƒáƒ•áƒáƒšáƒ”áƒ‘áƒ: áƒáƒžáƒ¢áƒ˜áƒ›áƒ˜áƒ–áƒáƒªáƒ˜áƒ useMemo-áƒ˜áƒ—
// áƒ¨áƒ”áƒ¥áƒ›áƒ”áƒœáƒ˜ React áƒ™áƒáƒ›áƒžáƒáƒœáƒ”áƒœáƒ¢áƒ˜ áƒ¡áƒáƒ®áƒ”áƒšáƒáƒ“ ExpensiveCalculator, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª:

import { useMemo, useState } from "react"

// áƒáƒ¥áƒ•áƒ¡ input áƒ•áƒ”áƒšáƒ˜, áƒ¡áƒáƒ“áƒáƒª áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ¨áƒ”áƒ˜áƒ¢áƒáƒœáƒ¡ áƒ áƒ˜áƒªáƒ®áƒ•áƒ¡.
// áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜áƒ¡ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒáƒ¡ áƒ’áƒáƒ›áƒáƒ˜áƒ—áƒ•áƒšáƒ”áƒ‘áƒ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ áƒ—áƒ£áƒšáƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ (áƒ›áƒáƒ’., áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜áƒ¡ áƒ£áƒ–áƒáƒ áƒ›áƒáƒ–áƒáƒ áƒ˜ áƒ¤áƒáƒ¥áƒ¢áƒáƒ áƒ˜áƒáƒšáƒ˜ áƒáƒœ áƒ“áƒ˜áƒ“áƒ˜ áƒªáƒ˜áƒ™áƒšáƒ˜).
// áƒáƒ› áƒ áƒ—áƒ£áƒšáƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ˜áƒ¡ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜ áƒ’áƒáƒ›áƒáƒ˜áƒ¡áƒáƒ®áƒ”áƒ‘áƒ áƒ”áƒ™áƒ áƒáƒœáƒ–áƒ”.
// áƒ’áƒ•áƒ”áƒ áƒ“áƒ˜áƒ— áƒáƒ áƒ˜áƒ¡ áƒ¡áƒ®áƒ•áƒ input áƒ•áƒ”áƒšáƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ¡ áƒ˜áƒ¦áƒ”áƒ‘áƒ¡ áƒ“áƒ áƒáƒ  áƒ£áƒœáƒ“áƒ áƒ’áƒáƒ›áƒáƒ˜áƒ¬áƒ•áƒ˜áƒáƒ¡ áƒ áƒ—áƒ£áƒšáƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ˜áƒ¡ áƒ—áƒáƒ•áƒ˜áƒ“áƒáƒœ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ.
// áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ” useMemo, áƒ áƒáƒ› áƒ áƒ—áƒ£áƒšáƒ˜ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ áƒ¨áƒ”áƒ¡áƒ áƒ£áƒšáƒ“áƒ”áƒ¡ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ›áƒáƒ¨áƒ˜áƒœ, áƒ áƒáƒªáƒ áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜ áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ.




const ExpensiveCalculator = () => {
    const [number, setNumber] = useState(0);

    const factorial = (num) => {
        let x = 1;
        for (let i = 1; i <= num; i++) {
            x *= i;
        }
        console.log("re-render");
        return x;
    };

    const result = useMemo(() => factorial(number), [number]);
    console.log(result);

    return (
        <div>
            <input 
                type="number"  
                onChange={(e) => setNumber(Number(e.target.value))}  
            />
            <input type="text" />
        </div>
    );
};

export default ExpensiveCalculator;
